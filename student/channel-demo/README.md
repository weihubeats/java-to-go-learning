# chan 管道

## 分类
1. 缓冲通道
```go
ch := make(chan int, 5)
```
2. 无缓冲通道
```go
ch := make(chan int, 0)
```


## 特点

1. 是一个先进先出的队列(FIFO)
2. 是并发安全的
3. 同一个chan，发送消息之间是互斥，接受消息也是互斥
4. 发送操作在完成之前被阻塞，接受也是如此
5. 缓冲通道如果容量满了，发送消息会阻塞，直到容量里面的数据被消费

## 定义

使用make关键字

```go
ch := make(chan string, 1)

// 创建一个空接口类型的通道, 可以存放任意格式
ch2 := make(chan interface{})
```

## 接受数据

```go
//阻塞接收数据 
data := <-ch
//非阻塞接收数据
data, ok := <-ch
//接收任意数据，忽略接收的数据
<-ch


```

# select
select 是 Go 中的一个控制结构，类似于 switch 语句。

select 语句只能用于通道操作，每个 case 必须是一个通道操作，要么是发送要么是接收。

select 语句会监听所有指定的通道上的操作，一旦其中一个通道准备好就会执行相应的代码块。

如果多个通道都准备好，那么 select 语句会随机选择一个通道执行。如果所有通道都没有准备好，那么执行 default 块中的代码

有如下特性：
1. 每个case都必须是一个通信
2. 所有channel表达式都会被求值
3. 所有被发送的表达式都会被求值
4. 如果任意某个通信可以进行，它就执行；其他被忽略。
5. 如果有多个case都可以运行，select会随机公平地选出一个执行。其他不会执行。否则执行default子句(如果有)
6. 如果没有default字句，select将阻塞，直到某个通信可以运行；Go不会重新对channel或值进行求值

```go

```